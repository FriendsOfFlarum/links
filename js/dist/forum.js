module.exports=function(t){var n={};function r(o){if(n[o])return n[o].exports;var e=n[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=t,r.c=n,r.d=function(t,n,o){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)r.d(o,e,function(n){return t[n]}.bind(null,e));return o},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=25)}([function(t,n){t.exports=flarum.core.compat["common/Model"]},function(t,n){t.exports=flarum.core.compat["common/app"]},function(t,n,r){"use strict";function o(t,n){return(o=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function e(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n)}r.d(n,"a",(function(){return e}))},function(t,n,r){"use strict";function o(t){return t.slice(0).sort((function(t,n){var r=t.position(),o=n.position();return r>o?1:r<o?-1:0}))}r.d(n,"a",(function(){return o}))},,function(t,n,r){"use strict";r.d(n,"a",(function(){return u}));var o=r(2),e=r(0),i=r.n(e),a=r(12),u=function(t){function n(){return t.apply(this,arguments)||this}return Object(o.a)(n,t),n}(r.n(a)()(i.a,{title:i.a.attribute("title"),icon:i.a.attribute("icon"),type:i.a.attribute("type"),url:i.a.attribute("url"),position:i.a.attribute("position"),isInternal:i.a.attribute("isInternal"),isNewtab:i.a.attribute("isNewtab"),isChild:i.a.attribute("isChild"),parent:i.a.hasOne("parent"),visibility:i.a.attribute("visibility")}))},function(t,n){t.exports=flarum.core.compat["common/helpers/icon"]},function(t,n){t.exports=flarum.core.compat["common/components/Button"]},,function(t,n){t.exports=flarum.core.compat["common/utils/classList"]},function(t,n,r){"use strict";r.d(n,"a",(function(){return o}));var o={sortLinks:r(3).a}},function(t,n,r){"use strict";r.d(n,"a",(function(){return o}));var o={Link:r(5).a}},function(t,n){t.exports=flarum.core.compat["common/utils/mixin"]},function(t,n){t.exports=flarum.core.compat["common/utils/ItemList"]},function(t,n){t.exports=flarum.core.compat["common/components/Separator"]},function(t,n){t.exports=flarum.core.compat["common/extend"]},function(t,n){t.exports=flarum.core.compat["common/components/HeaderPrimary"]},function(t,n){t.exports=flarum.core.compat["common/components/Link"]},function(t,n){t.exports=flarum.core.compat["common/components/LinkButton"]},function(t,n){t.exports=flarum.core.compat["forum/app"]},function(t,n){t.exports=flarum.core.compat["common/components/SplitDropdown"]},,,,,function(t,n,r){"use strict";r.r(n),r.d(n,"components",(function(){return M})),r.d(n,"utils",(function(){return A.a})),r.d(n,"models",(function(){return T.a}));var o=r(15),e=r(16),i=r.n(e),a=r(5);function u(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=r(2),c=r(1),l=r.n(c),p=r(17),f=r.n(p),d=r(18),b=r.n(d),h=r(6),k=r.n(h),v=r(14),y=r.n(v),g=r(9),w=r.n(g),x=r(7),O=r.n(x),j=function(t){function n(){for(var n,r=arguments.length,o=new Array(r),e=0;e<r;e++)o[e]=arguments[e];return(n=t.call.apply(t,[this].concat(o))||this).attrs=void 0,n}Object(s.a)(n,t);var r,o,e,i=n.prototype;return i.view=function(t){return this.isLabel?this.labelView(t):this.linkView(t)},i.labelView=function(t){var n=this,r=this.attrs.link,o=this.attrs.inDropdown?"span":O.a;return m("[",null,this.attrs.inDropdown&&m(y.a,null),m(o,{class:w()(this.class,"LinksButton--label"),onclick:function(t){n.attrs.inDropdown&&t.stopPropagation()},"data-toggle":this.attrs.isDropdownButton?"dropdown":void 0},this.icon," ",r.title()),this.attrs.inDropdown&&m(y.a,null))},i.linkView=function(t){var n=this.attrs.link,r={className:this.class,rel:this.rel,target:this.linkTarget,external:!n.isNewtab()&&!n.isInternal(),href:n.url()};return m(f.a,r,this.icon," ",n.title())},r=n,(o=[{key:"isInternal",get:function(){var t=this.attrs.link;return t.isInternal()&&!t.isNewtab()}},{key:"isLabel",get:function(){return 0===this.attrs.link.url().length}},{key:"icon",get:function(){var t=this.attrs.link.icon();return t?k()(t,{className:"Button-icon"}):null}},{key:"rel",get:function(){return this.attrs.link.isNewtab()?"noopener noreferrer":void 0}},{key:"class",get:function(){return w()("LinksButton",this.attrs.className||"Button Button--link",{"LinksButton--inDropdown":this.attrs.inDropdown,active:this.isLinkCurrentPage})}},{key:"isLinkCurrentPage",get:function(){var t=this.attrs.link;if(!t.isInternal())return!1;var n=m.route.get()||"/",r=t.url().replace(l.a.forum.attribute("baseUrl"),"");return""===r&&(r="/"),0===n.indexOf(r)&&("/"===n||"/"!==r)}},{key:"linkTarget",get:function(){var t=this.attrs.link;if(!t.isInternal())return t.isNewtab()?"_blank":void 0}}])&&u(r.prototype,o),e&&u(r,e),n}(b.a);function N(){return(N=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}).apply(this,arguments)}var B=r(19),L=r.n(B),D=r(20),P=r.n(D),_=r(13),C=r.n(_),I=r(3),S=function(t){function n(){return t.apply(this,arguments)||this}Object(s.a)(n,t),n.initAttrs=function(n){t.initAttrs.call(this,n),n.className+=" LinkDropdown",n.buttonClassName+=" Button--link"};var r=n.prototype;return r.view=function(n){var r=this.items().toArray();return t.prototype.view.call(this,N({},n,{children:r}))},r.getButton=function(t){var n=this.getFirstChild(t);return n.attrs.className=w()(n.attrs.className,"SplitDropdown-button Button",this.attrs.buttonClassName),n.attrs.isDropdownButton=!0,[n,m("button",{className:w()("Dropdown-toggle","Button","Button--icon",this.attrs.buttonClassName),"data-toggle":"dropdown"},k()("fas fa-caret-down",{className:"Button-caret"}))]},r.items=function(){var t=new C.a,n=this.attrs.link;return t.add("link"+n.id(),j.component({link:n})),Object(I.a)(L.a.store.all("links")).filter((function(t){return t.parent()===n})).forEach((function(r){t.add("link"+n.id()+"-"+r.id(),j.component({link:r,inDropdown:!0}))})),t},n}(P.a),M={LinkDropdown:S,LinkItem:j},A=r(10),T=r(11);app.initializers.add("fof-links",(function(){app.store.models.links=a.a,Object(o.extend)(i.a.prototype,"items",(function(t){var n=app.store.all("links").filter((function(t){return!t.isChild()}));Object(I.a)(n).map((function(n){var r=!!app.store.all("links").filter((function(t){return t.parent()==n})).length;t.add("link"+n.id(),r?S.component({link:n}):j.component({link:n}))}))}))}))}]);
//# sourceMappingURL=forum.js.map